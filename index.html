<!DOCTYPE html>
<html lang="pt-BR" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora The Crims | PRO</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        input[type="number"]::-webkit-outer-spin-button,
        input[type="number"]::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        input[type="number"] {
            -moz-appearance: textfield;
        }

        .tab-button.active {
            border-color: #f59e0b; /* amber-500 */
            background-color: #f59e0b;
            color: white;
        }
    </style>
</head>
<body class="bg-slate-50 dark:bg-gray-900 text-slate-600 dark:text-slate-300 flex items-center justify-center min-h-screen p-4 transition-colors duration-300">

    <div class="container bg-white dark:bg-gray-800 p-6 sm:p-8 rounded-2xl shadow-2xl max-w-2xl w-full mx-auto space-y-6">
        <header class="text-center relative">
            <h1 class="text-3xl sm:text-4xl font-extrabold text-amber-500 dark:text-amber-400">Calculadora The Crims</h1>
            <p class="text-slate-500 dark:text-slate-400 mt-1">Ferramentas para otimizar seu jogo.</p>

            <button id="theme-toggle" class="absolute top-0 right-0 p-2 rounded-full text-slate-500 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-gray-700 transition-colors">
                <svg id="theme-icon-light" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
                <svg id="theme-icon-dark" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>
            </button>
        </header>

        <nav class="flex border-b border-slate-200 dark:border-gray-700">
            <button class="tab-button flex-1 py-3 px-4 text-sm sm:text-base font-semibold text-slate-500 dark:text-slate-400 border-b-2 border-transparent transition-colors duration-300 hover:text-amber-500 dark:hover:text-amber-400" data-tab-id="timeCalculatorTabContent">
                Calculadora de Tempo
            </button>
            <button class="tab-button flex-1 py-3 px-4 text-sm sm:text-base font-semibold text-slate-500 dark:text-slate-400 border-b-2 border-transparent transition-colors duration-300 hover:text-amber-500 dark:hover:text-amber-400" data-tab-id="pointsCalculatorTabContent">
                Calculadora de Pontos
            </button>
        </nav>

        <main>
            <div id="timeCalculatorTabContent" class="tab-content space-y-6">
                <section class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="space-y-2">
                        <label for="roundStartDate" class="font-semibold text-slate-800 dark:text-slate-200">Início da Rodada (Real):</label>
                        <input type="datetime-local" id="roundStartDate" class="w-full bg-slate-100 dark:bg-gray-700 border border-slate-300 dark:border-gray-600 rounded-lg p-2.5 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-amber-500 focus:border-amber-500 outline-none">
                    </div>
                    <div class="space-y-2">
                        <label for="currentRoundEndDate" class="font-semibold text-slate-800 dark:text-slate-200">Fim da Rodada (Real):</label>
                        <input type="datetime-local" id="currentRoundEndDate" readonly class="w-full bg-slate-200 dark:bg-gray-900 border border-slate-300 dark:border-gray-700 rounded-lg p-2.5 text-slate-500 dark:text-slate-400 cursor-not-allowed">
                    </div>
                </section>
                <section>
                    <h3 class="font-bold text-lg text-slate-800 dark:text-slate-200 mb-2">Tempo Atual no Jogo</h3>
                    <div class="grid grid-cols-3 gap-3 text-center bg-slate-100/50 dark:bg-gray-900/50 p-4 rounded-lg">
                        <div>
                            <span class="text-xs text-slate-500 dark:text-slate-400">Dia</span>
                            <input type="number" id="currentDay" readonly class="w-full bg-transparent text-amber-500 dark:text-amber-400 text-2xl font-bold text-center outline-none">
                        </div>
                        <div>
                            <span class="text-xs text-slate-500 dark:text-slate-400">Hora</span>
                            <input type="number" id="currentHour" readonly class="w-full bg-transparent text-amber-500 dark:text-amber-400 text-2xl font-bold text-center outline-none">
                        </div>
                        <div>
                            <span class="text-xs text-slate-500 dark:text-slate-400">Minuto</span>
                            <input type="number" id="currentMinute" readonly class="w-full bg-transparent text-amber-500 dark:text-amber-400 text-2xl font-bold text-center outline-none">
                        </div>
                    </div>
                </section>
                <section>
                    <h3 class="font-bold text-lg text-slate-800 dark:text-slate-200 mb-2">Tempo Desejado no Jogo</h3>
                    <div class="grid grid-cols-3 gap-3 text-center">
                        <div>
                            <span class="text-xs text-slate-500 dark:text-slate-400">Dia</span>
                            <input type="number" id="targetDay" placeholder="Dia" min="1" class="w-full bg-slate-100 dark:bg-gray-700 border border-slate-300 dark:border-gray-600 rounded-lg p-2.5 text-center focus:ring-2 focus:ring-amber-500 focus:border-amber-500 outline-none mt-1">
                        </div>
                        <div>
                            <span class="text-xs text-slate-500 dark:text-slate-400">Hora</span>
                            <input type="number" id="targetHour" placeholder="Hora" min="0" max="23" class="w-full bg-slate-100 dark:bg-gray-700 border border-slate-300 dark:border-gray-600 rounded-lg p-2.5 text-center focus:ring-2 focus:ring-amber-500 focus:border-amber-500 outline-none mt-1">
                        </div>
                        <div>
                            <span class="text-xs text-slate-500 dark:text-slate-400">Minuto</span>
                            <input type="number" id="targetMinute" placeholder="Minuto" min="0" max="59" class="w-full bg-slate-100 dark:bg-gray-700 border border-slate-300 dark:border-gray-600 rounded-lg p-2.5 text-center focus:ring-2 focus:ring-amber-500 focus:border-amber-500 outline-none mt-1">
                        </div>
                    </div>
                </section>
                <div class="flex flex-col sm:flex-row gap-3 pt-4">
                    <button id="calculateTimeButton" class="w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-3 px-4 rounded-lg transition-transform transform hover:scale-105">Calcular</button>
                    <button id="resetTimeCalculatorButton" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded-lg transition-transform transform hover:scale-105">Redefinir</button>
                </div>
                <div id="result" class="text-center font-semibold text-green-600 dark:text-green-400 min-h-[1.5em]"></div>
                <div id="localTimeResult" class="text-center text-sm text-slate-500 dark:text-slate-400 min-h-[1.25em]"></div>
                <div id="errorMessage" class="text-center font-semibold text-red-500 min-h-[1.5em]"></div>
            </div>

            <div id="pointsCalculatorTabContent" class="tab-content hidden space-y-6">
                <section class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="space-y-2">
                        <label for="totalPoints" class="font-semibold text-slate-800 dark:text-slate-200">Total de Pontos:</label>
                        <input type="number" id="totalPoints" min="0" value="10000" class="w-full bg-slate-100 dark:bg-gray-700 border border-slate-300 dark:border-gray-600 rounded-lg p-2.5 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-amber-500 focus:border-amber-500 outline-none">
                    </div>
                    <div class="space-y-2">
                        <label for="playerClass" class="font-semibold text-slate-800 dark:text-slate-200">Carregar Padrão da Classe:</label>
                        <select id="playerClass" class="w-full bg-slate-100 dark:bg-gray-700 border border-slate-300 dark:border-gray-600 rounded-lg p-2.5 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-amber-500 focus:border-amber-500 outline-none">
                            <option value="assassino">Assassino de Aluguel</option>
                            <option value="cafetao">Cafetão</option>
                            <option value="corretor">Corretor</option>
                            <option value="empresario">Empresário</option>
                            <option value="ladrao">Ladrão</option>
                            <option value="traficante">Traficante</option>
                        </select>
                    </div>
                </section>

                <section id="pointsDistributionSection" class="bg-slate-100/50 dark:bg-gray-900/50 p-4 rounded-lg space-y-3">
                </section>

                <div class="flex flex-col sm:flex-row gap-3 pt-4">
                    <button id="copyPointsButton" class="w-full bg-sky-600 hover:bg-sky-700 text-white font-bold py-3 px-4 rounded-lg transition-transform transform hover:scale-105">Copiar Build</button>
                    <button id="resetPointsCalculatorButton" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded-lg transition-transform transform hover:scale-105">Redefinir Padrão</button>
                </div>
                <div id="pointsErrorMessage" class="text-center font-semibold text-red-500 min-h-[1.5em]"></div>
            </div>
        </main>
    </div>

    <script type="module">
        // --- CONFIGURAÇÕES GLOBAIS ---
        const CONFIG = {
            REAL_HOURS_PER_GAME_DAY: 6,
            GAME_MINUTES_PER_REAL_MINUTE: (24 / 6),
            DEFAULT_ROUND_START_DATE: new Date(2025, 6, 2, 12, 0),
            ROUND_DURATION_GAME_DAYS: 52,
            CLASS_DISTRIBUTIONS: {
                assassino: { Força: 0.50, Tolerância: 0.30, Inteligência: 0.15, Carisma: 0.05 },
                cafetao: { Carisma: 0.40, Inteligência: 0.25, Tolerância: 0.25, Força: 0.10 },
                corretor: { Inteligência: 0.45, Carisma: 0.35, Tolerância: 0.15, Força: 0.05 },
                empresario: { Inteligência: 0.45, Carisma: 0.35, Tolerância: 0.15, Força: 0.05 },
                ladrao: { Inteligência: 0.40, Tolerância: 0.35, Força: 0.20, Carisma: 0.05 },
                traficante: { Inteligência: 0.38, Tolerância: 0.28, Carisma: 0.28, Força: 0.06 }
            }
        };

        // --- SELETORES DE ELEMENTOS DOM ---
        const DOMElements = {
            html: document.documentElement,
            themeToggle: document.getElementById('theme-toggle'),
            themeIconLight: document.getElementById('theme-icon-light'),
            themeIconDark: document.getElementById('theme-icon-dark'),
            tabs: document.querySelectorAll('.tab-button'),
            tabContents: document.querySelectorAll('.tab-content'),
            roundStartDate: document.getElementById('roundStartDate'),
            currentRoundEndDate: document.getElementById('currentRoundEndDate'),
            currentDay: document.getElementById('currentDay'),
            currentHour: document.getElementById('currentHour'),
            currentMinute: document.getElementById('currentMinute'),
            targetDay: document.getElementById('targetDay'),
            targetHour: document.getElementById('targetHour'),
            targetMinute: document.getElementById('targetMinute'),
            calculateTimeButton: document.getElementById('calculateTimeButton'),
            resetTimeCalculatorButton: document.getElementById('resetTimeCalculatorButton'),
            result: document.getElementById('result'),
            localTimeResult: document.getElementById('localTimeResult'),
            errorMessage: document.getElementById('errorMessage'),
            totalPoints: document.getElementById('totalPoints'),
            playerClass: document.getElementById('playerClass'),
            pointsDistributionSection: document.getElementById('pointsDistributionSection'),
            copyPointsButton: document.getElementById('copyPointsButton'),
            resetPointsCalculatorButton: document.getElementById('resetPointsCalculatorButton'),
            pointsErrorMessage: document.getElementById('pointsErrorMessage')
        };

        // --- FUNÇÕES UTILITÁRIAS ---
        const Utils = {
            formatDateForInput: (date) => {
                const pad = (num) => String(num).padStart(2, '0');
                return `${date.getFullYear()}-${pad(date.getMonth() + 1)}-${pad(date.getDate())}T${pad(date.getHours())}:${pad(date.getMinutes())}`;
            },
            clearMessages: (...elements) => {
                elements.forEach(el => { if (el) el.textContent = ''; });
            },
            getInputValueAsInt: (element) => parseInt(element.value, 10),
            setInputValue: (element, value) => { element.value = value; }
        };

        // --- GERENCIAMENTO DE TEMA (LIGHT/DARK) ---
        const ThemeManager = {
            init: () => {
                const theme = localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
                ThemeManager.applyTheme(theme);
                DOMElements.themeToggle.addEventListener('click', ThemeManager.toggleTheme);
            },
            applyTheme: (theme) => {
                localStorage.setItem('theme', theme);
                if (theme === 'dark') {
                    DOMElements.html.classList.add('dark');
                    DOMElements.themeIconLight.classList.remove('hidden');
                    DOMElements.themeIconDark.classList.add('hidden');
                } else {
                    DOMElements.html.classList.remove('dark');
                    DOMElements.themeIconLight.classList.add('hidden');
                    DOMElements.themeIconDark.classList.remove('hidden');
                }
            },
            toggleTheme: () => {
                const currentTheme = localStorage.getItem('theme') === 'dark' ? 'light' : 'dark';
                ThemeManager.applyTheme(currentTheme);
            }
        };

        // --- LÓGICA DAS ABAS ---
        function showTab(tabId) {
            DOMElements.tabContents.forEach(content => content.classList.add('hidden'));
            DOMElements.tabs.forEach(tab => tab.classList.remove('active'));

            document.getElementById(tabId).classList.remove('hidden');
            document.querySelector(`.tab-button[data-tab-id="${tabId}"]`).classList.add('active');
            Utils.clearMessages(DOMElements.errorMessage, DOMElements.result, DOMElements.localTimeResult, DOMElements.pointsErrorMessage);
        }

        // --- LÓGICA DA CALCULADORA DE TEMPO ---
        const TimeCalculator = {
            calculateCurrentGameTime: () => {
                if (!DOMElements.roundStartDate.value) return false;
                const roundStart = new Date(DOMElements.roundStartDate.value);
                const now = new Date();
                const diffMs = now.getTime() - roundStart.getTime();

                if (diffMs < 0) {
                    [DOMElements.currentDay.value, DOMElements.currentHour.value, DOMElements.currentMinute.value] = [1, 0, 0];
                    return false;
                }

                const diffGameMinutes = (diffMs / 60000) * CONFIG.GAME_MINUTES_PER_REAL_MINUTE;
                const gameDays = Math.floor(diffGameMinutes / 1440);
                const remainingMinutes = diffGameMinutes % 1440;
                const gameHours = Math.floor(remainingMinutes / 60);
                const gameMinutes = Math.floor(remainingMinutes % 60);

                Utils.setInputValue(DOMElements.currentDay, gameDays + 1);
                Utils.setInputValue(DOMElements.currentHour, gameHours);
                Utils.setInputValue(DOMElements.currentMinute, gameMinutes);
                return true;
            },
            calculateCurrentRoundEndDate: () => {
                if (!DOMElements.roundStartDate.value) {
                    Utils.setInputValue(DOMElements.currentRoundEndDate, '');
                    return;
                }
                const roundStart = new Date(DOMElements.roundStartDate.value);
                const endDateMs = roundStart.getTime() + (CONFIG.ROUND_DURATION_GAME_DAYS * CONFIG.REAL_HOURS_PER_GAME_DAY * 3600000);
                Utils.setInputValue(DOMElements.currentRoundEndDate, Utils.formatDateForInput(new Date(endDateMs)));
            },
            calculateRealTime: () => {
                Utils.clearMessages(DOMElements.result, DOMElements.localTimeResult, DOMElements.errorMessage);
                if (!TimeCalculator.calculateCurrentGameTime()) {
                    DOMElements.errorMessage.textContent = 'Insira uma Data/Hora de Início da Rodada válida e no passado.';
                    return;
                }
                const [currentDay, currentHour, currentMinute] = [DOMElements.currentDay, DOMElements.currentHour, DOMElements.currentMinute].map(Utils.getInputValueAsInt);
                const [targetDay, targetHour, targetMinute] = [DOMElements.targetDay, DOMElements.targetHour, DOMElements.targetMinute].map(Utils.getInputValueAsInt);

                if ([targetDay, targetHour, targetMinute].some(isNaN)) {
                    DOMElements.errorMessage.textContent = 'Preencha todos os campos de "Tempo Desejado".';
                    return;
                }

                const currentTotalMinutes = (currentDay * 1440) + (currentHour * 60) + currentMinute;
                const targetTotalMinutes = (targetDay * 1440) + (targetHour * 60) + targetMinute;

                if (targetTotalMinutes < currentTotalMinutes) {
                    DOMElements.errorMessage.textContent = 'O tempo desejado deve ser no futuro.';
                    return;
                }

                const diffGameMinutes = targetTotalMinutes - currentTotalMinutes;
                const diffRealSeconds = diffGameMinutes * (60 / CONFIG.GAME_MINUTES_PER_REAL_MINUTE);

                if (diffRealSeconds === 0) {
                    DOMElements.result.textContent = 'O tempo atual e o desejado são os mesmos.';
                    return;
                }

                const hours = Math.floor(diffRealSeconds / 3600);
                const minutes = Math.floor((diffRealSeconds % 3600) / 60);
                const resultParts = [];
                if (hours > 0) resultParts.push(`${hours} hora${hours > 1 ? 's' : ''}`);
                if (minutes > 0) resultParts.push(`${minutes} minuto${minutes > 1 ? 's' : ''}`);
                DOMElements.result.textContent = `Tempo real necessário: ${resultParts.join(' e ')}`;

                const targetRealDate = new Date(new Date().getTime() + diffRealSeconds * 1000);
                DOMElements.localTimeResult.textContent = `Hora local prevista: ${targetRealDate.toLocaleString('pt-BR', { dateStyle: 'long', timeStyle: 'short' })}`;
            },
            reset: () => {
                const savedStartDate = localStorage.getItem('roundStartDate');
                if (savedStartDate) {
                    DOMElements.roundStartDate.value = savedStartDate;
                } else {
                    Utils.setInputValue(DOMElements.roundStartDate, Utils.formatDateForInput(CONFIG.DEFAULT_ROUND_START_DATE));
                }

                TimeCalculator.calculateCurrentRoundEndDate();
                TimeCalculator.calculateCurrentGameTime();
                Utils.setInputValue(DOMElements.targetDay, DOMElements.currentDay.value);
                Utils.setInputValue(DOMElements.targetHour, DOMElements.currentHour.value);
                Utils.setInputValue(DOMElements.targetMinute, DOMElements.currentMinute.value);
                Utils.clearMessages(DOMElements.result, DOMElements.localTimeResult, DOMElements.errorMessage);
            }
        };

        // --- LÓGICA DA CALCULADORA DE PONTOS ---
        const PointsCalculator = {
            init: () => {
                PointsCalculator.buildDistributionUI();
                PointsCalculator.loadPreset();

                DOMElements.playerClass.addEventListener('change', PointsCalculator.loadPreset);
                DOMElements.totalPoints.addEventListener('input', () => {
                    localStorage.setItem('totalPoints', DOMElements.totalPoints.value);
                    PointsCalculator.updateDistribution();
                });
                DOMElements.pointsDistributionSection.addEventListener('input', PointsCalculator.updateDistribution);
                DOMElements.copyPointsButton.addEventListener('click', PointsCalculator.copyToClipboard);
                DOMElements.resetPointsCalculatorButton.addEventListener('click', PointsCalculator.loadPreset);
            },
            buildDistributionUI: () => {
                let html = '';
                Object.keys(CONFIG.CLASS_DISTRIBUTIONS.assassino).forEach(attr => {
                    html += `
                            <div class="grid grid-cols-12 gap-2 items-center">
                                <label class="col-span-3 font-semibold text-slate-700 dark:text-slate-300">${attr}</label>
                                <span id="points-for-${attr}" class="col-span-4 text-green-600 dark:text-green-400 font-bold">0</span>
                                <div class="col-span-5 flex items-center">
                                    <input type="number" id="percent-for-${attr}" data-attr="${attr}" class="w-full bg-white dark:bg-gray-700 border border-slate-300 dark:border-gray-600 rounded-lg p-1.5 text-center focus:ring-1 focus:ring-amber-500 outline-none percent-input" min="0" max="100">
                                    <span class="ml-2">%</span>
                                </div>
                            </div>
                        `;
                });
                html += `
                        <div class="grid grid-cols-12 gap-2 items-center pt-2 border-t border-slate-300 dark:border-gray-600">
                            <label class="col-span-7 font-bold text-slate-800 dark:text-slate-200">Total %</label>
                            <span id="total-percent" class="col-span-5 font-bold text-center">100%</span>
                        </div>`;
                DOMElements.pointsDistributionSection.innerHTML = html;
            },
            updateDistribution: () => {
                const totalPoints = Utils.getInputValueAsInt(DOMElements.totalPoints) || 0;
                let totalPercent = 0;

                document.querySelectorAll('.percent-input').forEach(input => {
                    const attr = input.dataset.attr;
                    const percent = parseFloat(input.value) / 100 || 0;
                    totalPercent += percent;

                    const points = Math.round(totalPoints * percent);
                    document.getElementById(`points-for-${attr}`).textContent = points.toLocaleString('pt-BR');
                });

                const totalPercentEl = document.getElementById('total-percent');
                totalPercentEl.textContent = `${(totalPercent * 100).toFixed(0)}%`;
                totalPercentEl.classList.toggle('text-red-500', Math.round(totalPercent * 100) !== 100);
                totalPercentEl.classList.toggle('text-green-600', Math.round(totalPercent * 100) === 100);
                DOMElements.pointsErrorMessage.textContent = Math.round(totalPercent * 100) !== 100 ? 'A soma das porcentagens deve ser 100%.' : '';
            },
            loadPreset: () => {
                const selectedClass = DOMElements.playerClass.value;
                const preset = CONFIG.CLASS_DISTRIBUTIONS[selectedClass];
                for (const attr in preset) {
                    const input = document.getElementById(`percent-for-${attr}`);
                    if (input) {
                        input.value = (preset[attr] * 100).toFixed(0);
                    }
                }
                PointsCalculator.updateDistribution();
            },
            copyToClipboard: () => {
                let textToCopy = `Build com ${DOMElements.totalPoints.value} pontos:\n`;
                document.querySelectorAll('.percent-input').forEach(input => {
                    const attr = input.dataset.attr;
                    const points = document.getElementById(`points-for-${attr}`).textContent;
                    const percent = input.value;
                    textToCopy += `${attr}: ${points} pontos (${percent}%)\n`;
                });

                navigator.clipboard.writeText(textToCopy).then(() => {
                    const originalText = DOMElements.copyPointsButton.textContent;
                    DOMElements.copyPointsButton.textContent = 'Copiado!';
                    setTimeout(() => {
                        DOMElements.copyPointsButton.textContent = originalText;
                    }, 2000);
                });
            }
        };

        // --- INICIALIZAÇÃO E EVENTOS ---
        function init() {
            ThemeManager.init();

            DOMElements.tabs.forEach(tab => tab.addEventListener('click', () => showTab(tab.dataset.tabId)));

            const savedTotalPoints = localStorage.getItem('totalPoints');
            if (savedTotalPoints) {
                DOMElements.totalPoints.value = savedTotalPoints;
            }

            TimeCalculator.reset();

            DOMElements.calculateTimeButton.addEventListener('click', TimeCalculator.calculateRealTime);
            DOMElements.resetTimeCalculatorButton.addEventListener('click', TimeCalculator.reset);
            DOMElements.roundStartDate.addEventListener('change', () => {
                localStorage.setItem('roundStartDate', DOMElements.roundStartDate.value);
                TimeCalculator.calculateCurrentGameTime();
                TimeCalculator.calculateCurrentRoundEndDate();
            });

            PointsCalculator.init();

            showTab('timeCalculatorTabContent');

            setInterval(() => {
                if (!document.getElementById('timeCalculatorTabContent').classList.contains('hidden')) {
                    TimeCalculator.calculateCurrentGameTime();
                }
            }, 1000);
        }

        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>